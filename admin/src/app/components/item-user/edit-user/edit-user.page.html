<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Edit worker</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content color="light">
  <ion-grid>
 
    <form [formGroup]="editWorkerForm">
      <ion-row>
        <ion-col size="12">
          <ion-item>
            <ion-input formControlName="firstName" labelPlacement="floating">
              <div slot="label">Name
                <ion-text
                  [color]="editWorkerForm.controls['firstName'].invalid && editWorkerForm.controls['firstName'].touched ? 'danger' : 'success'">*
                </ion-text>
              </div>

              @if(editWorkerForm.value.firstName !=null && editWorkerForm.controls['firstName'].invalid &&
              editWorkerForm.controls['firstName'].touched){
              <ion-icon slot="end" color="danger" name="alert-circle-outline"></ion-icon>
              }
              @if(editWorkerForm.value.firstName !=null && !editWorkerForm.controls['firstName'].invalid){
              <ion-icon slot="end" color="success" name="checkmark-circle"></ion-icon>
              }
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col size="12">
          <ion-item>
            <ion-input formControlName="lastName" labelPlacement="floating">
              <div slot="label">Last Name
                <ion-text
                  [color]="editWorkerForm.controls['lastName'].invalid && editWorkerForm.controls['lastName'].touched ? 'danger' : 'success'">*
                </ion-text>
              </div>
              @if(editWorkerForm.value.lastName !=null && editWorkerForm.controls['lastName'].invalid &&
              editWorkerForm.controls['lastName'].touched){
              <ion-icon slot="end" color="danger" name="alert-circle-outline"></ion-icon>
              }
              @if(editWorkerForm.value.lastName !=null && !editWorkerForm.controls['lastName'].invalid){
              <ion-icon slot="end" color="success" name="checkmark-circle"></ion-icon>
              }
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col size="12">
          <ion-item>
            <ion-input formControlName="hourlyRate" labelPlacement="floating" type="number" min="0.01">
              <div slot="label">Hourly rate

                <ion-text
                  [color]="editWorkerForm.controls['hourlyRate'].invalid ? 'danger' : 'success'">*
                  (min $0.01)
                </ion-text>
              </div>
              @if(editWorkerForm.value.hourlyRate !=null && editWorkerForm.controls['hourlyRate'].invalid){
              <ion-icon slot="end" color="danger" name="alert-circle-outline"></ion-icon>
              }
              @if(editWorkerForm.value.hourlyRate !=null && !editWorkerForm.controls['hourlyRate'].invalid){
              <ion-icon slot="end" color="success" name="checkmark-circle"></ion-icon>
              }
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
    </form>
  </ion-grid>
</ion-content>
<ion-footer>
  <ion-toolbar class="px-2">
    <ion-buttons slot="end">
      <ion-button fill="clear" color="danger" (click)="closeModal()">Cancel</ion-button>
      <ion-button fill="solid" color="primary" (click)="updateWorker(editWorkerForm.value)"
        [disabled]="!editWorkerForm.valid">
        @if(loading){
        <ion-spinner></ion-spinner>
        } @else{
        Update
        }

      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>