<ion-content color="dark">
  <ion-grid class="upside-box">
    <div class="main-text">
      Password Reset Form
    </div>
  </ion-grid>
  <ion-grid class="p-3">
    <form [formGroup]="resetPasswordForm" (ngSubmit)="sendEmail(resetPasswordForm.value)">
      <ion-row>
        <!-- Email  -->
        <ion-col size="12" class="pb-0">
          <ion-item lines="none" class="item-black">
            <ion-input formControlName="email" label-placement="stacked" fill="outline" placeholder="Enter your Email"
              class="p-2">
              <div slot="label">Email <ion-text
                [color]="resetPasswordForm.controls['email'].invalid && resetPasswordForm.controls['email'].touched ? 'danger' : 'primary'">(5-256
                  Char.)</ion-text>
              </div>

              @if(resetPasswordForm.value.email !=null && resetPasswordForm.controls['email'].invalid &&
              resetPasswordForm.controls['email'].touched){
              <ion-icon slot="end" color="danger" name="alert-circle-outline"></ion-icon>
              }
              @if(resetPasswordForm.value.email !=null && !resetPasswordForm.controls['email'].invalid){
              <ion-icon slot="end" color="success" name="checkmark-circle"></ion-icon>
              }
            </ion-input>
          </ion-item>
        </ion-col> 
        <ion-col size="12" class="px-3">
          <ion-button expand="block" fill="solid" type="submit" [disabled]="loading || resetPasswordForm.invalid">
            @if(loading){
              <ion-spinner name="crescent"></ion-spinner>
              } @else {
              Request Reset
              }
          </ion-button>
          <ion-button color="dark" class="mt-3" expand="block" fill="clear" routerLink="/auth/login">
            Go back to login
          </ion-button>
        </ion-col>
      </ion-row>
    </form>
  </ion-grid>
</ion-content>