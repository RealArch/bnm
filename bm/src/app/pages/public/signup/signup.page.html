<ion-content color="light">
  <ion-grid class="upside-box">

  </ion-grid>
  <ion-grid class="p-3">
    <form autocomplete="off" [formGroup]="signinForm" (ngSubmit)="sendForm(signinForm)">
      <ion-row>

        <ion-col>

          <ion-item lines="none">
            <ion-input formControlName="firstName" label="First name" label-placement="stacked" fill="outline"
              placeholder="Between 3 and 50 Char." required="true" minlength="3" maxlength="50">
              <!-- IF touched -->
              @if(signinForm.controls['firstName'].touched) {
              <!-- Then select the right icon -->
              @if(signinForm.controls['firstName'].invalid){
              <ion-icon slot="end" color="danger" name="close-circle"></ion-icon>
              }@else {
              <ion-icon slot="end" color="success" name="checkmark-circle"></ion-icon>
              }
              }
            </ion-input>
          </ion-item>
          <ion-item lines="none">
            <ion-input formControlName="lastName" label="First name" label-placement="stacked" fill="outline"
              placeholder="Enter you last name">
              @if(signinForm.value.lastName !=null && signinForm.controls['lastName'].invalid){
              <ion-icon slot="end" color="danger" name="close-circle"></ion-icon>
              }
              @if(signinForm.value.lastName !=null && !signinForm.controls['lastName'].invalid){
              <ion-icon slot="end" color="success" name="checkmark-circle"></ion-icon>
              }
            </ion-input>
          </ion-item>

          <ion-item lines="none">
            <ion-input formControlName="email" label="Email" label-placement="stacked" fill="outline"
              placeholder="Enter your Email">
              @if(signinForm.value.email !=null && signinForm.controls['email'].invalid){
              <ion-icon slot="end" color="danger" name="close-circle"></ion-icon>
              }
              @if(signinForm.value.email !=null && !signinForm.controls['email'].invalid){
              <ion-icon slot="end" color="success" name="checkmark-circle"></ion-icon>
              }
            </ion-input>
          </ion-item>

          <ion-item lines="none">
            <ion-input formControlName="password" type="password" label="Password" label-placement="stacked"
              fill="outline" placeholder="Enter your password" autocomplete="off">
              @if(signinForm.value.password !=null && signinForm.controls['password'].invalid){
              <ion-icon slot="end" color="danger" name="close-circle"></ion-icon>
              }
              @if(signinForm.value.password !=null && !signinForm.controls['password'].invalid){
              <ion-icon slot="end" color="success" name="checkmark-circle"></ion-icon>
              }
            </ion-input>
          </ion-item>

          <ion-item lines="none" autocomplete="off">
            <ion-input formControlName="passwordConfirm" type="password" label="Confirm password"
              label-placement="stacked" fill="outline" placeholder="Confirm your password" autocomplete="off">
              @if(signinForm.value.touched !=null && signinForm.controls['passwordConfirm'].invalid){
              <ion-icon slot="end" color="danger" name="close-circle"></ion-icon>
              }
              @if(signinForm.value.passwordConfirm !=null && !signinForm.controls['passwordConfirm'].invalid){
              <ion-icon slot="end" color="success" name="checkmark-circle"></ion-icon>
              }
            </ion-input>
          </ion-item>

          <!-- <div class="w-100 text-end py-3">
            <ion-text color="primary" class="strong text-end">
              Olvide mi contrase√±a
            </ion-text>
          </div> -->

          <div>
            <ion-button expand="block" type="submit" [disabled]="sending || signinForm.invalid">
              @if(sending){
              <ion-spinner name="crescent"></ion-spinner>
              } @else {
              Sign up
              }
            </ion-button>
          </div>
          <div class="divider py-3">
            <div></div>
            <div>o</div>
            <div></div>
          </div>
          <div>
            <ion-button expand="block" fill="outline" [disabled]="sending" [routerLink]="['/auth/login']">
              Login
            </ion-button>
          </div>
        </ion-col>

      </ion-row>
    </form>
  </ion-grid>
</ion-content>